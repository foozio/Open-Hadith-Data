<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hadith API Documentation</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
        }
        .endpoint {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .method {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 12px;
            margin-right: 10px;
        }
        .get { background: #d4edda; color: #155724; }
        .post { background: #d1ecf1; color: #0c5460; }
        .path {
            font-family: 'Monaco', 'Consolas', monospace;
            background: #e9ecef;
            padding: 2px 6px;
            border-radius: 3px;
        }
        .arabic {
            font-size: 18px;
            direction: rtl;
            text-align: right;
            background: #f8f9fa;
            padding: 10px;
            border-right: 4px solid #3498db;
            margin: 10px 0;
        }
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Monaco', 'Consolas', monospace;
        }
        .example {
            background: #e8f5e8;
            border: 1px solid #c3e6c3;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .collections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .collection {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #3498db;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🕌 Hadith API Documentation</h1>
        
        <p>Welcome to the Hadith API! This RESTful API provides access to nine major Islamic Hadith collections with full Arabic text support and search capabilities.</p>

        <h2>📚 Available Collections</h2>
        <div class="collections">
            <div class="collection">
                <h3>Sahih Al-Bukhari</h3>
                <div class="arabic">صحيح البخاري</div>
                <p>ID: <code>sahih_al_bukhari</code></p>
            </div>
            <div class="collection">
                <h3>Sahih Muslim</h3>
                <div class="arabic">صحيح مسلم</div>
                <p>ID: <code>sahih_muslim</code></p>
            </div>
            <div class="collection">
                <h3>Sunan Abu-Dawud</h3>
                <div class="arabic">سنن أبي داود</div>
                <p>ID: <code>sunan_abu_dawud</code></p>
            </div>
            <div class="collection">
                <h3>Sunan Al-Tirmidhi</h3>
                <div class="arabic">سنن الترمذي</div>
                <p>ID: <code>sunan_al_tirmidhi</code></p>
            </div>
            <div class="collection">
                <h3>Sunan Al-Nasai</h3>
                <div class="arabic">سنن النسائي</div>
                <p>ID: <code>sunan_al_nasai</code></p>
            </div>
            <div class="collection">
                <h3>Sunan Ibn-Maja</h3>
                <div class="arabic">سنن ابن ماجه</div>
                <p>ID: <code>sunan_ibn_maja</code></p>
            </div>
            <div class="collection">
                <h3>Maliks Muwataa</h3>
                <div class="arabic">موطأ مالك</div>
                <p>ID: <code>maliks_muwataa</code></p>
            </div>
            <div class="collection">
                <h3>Sunan Al-Darimi</h3>
                <div class="arabic">سنن الدارمي</div>
                <p>ID: <code>sunan_al_darimi</code></p>
            </div>
            <div class="collection">
                <h3>Musnad Ahmad Ibn-Hanbal</h3>
                <div class="arabic">مسند أحمد بن حنبل</div>
                <p>ID: <code>musnad_ahmad_ibn_hanbal</code></p>
            </div>
        </div>

        <h2>🔗 API Endpoints</h2>

        <h3>General Information</h3>
        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/v1</span>
            <p>Get API information and available endpoints</p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/v1/info</span>
            <p>Get quick API statistics and data summary</p>
        </div>

        <h3>Collections</h3>
        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/v1/collections</span>
            <p>Get list of all available Hadith collections</p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/v1/collections/{collectionId}</span>
            <p>Get details of a specific collection</p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/v1/collections/{collectionId}/hadiths</span>
            <p>Get hadiths from a specific collection with pagination</p>
            <p><strong>Query Parameters:</strong></p>
            <ul>
                <li><code>fileType</code> - regular | mushakkala_mufassala</li>
                <li><code>limit</code> - Number of hadiths per page (1-100, default: 20)</li>
                <li><code>offset</code> - Number of hadiths to skip (default: 0)</li>
            </ul>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/v1/collections/{collectionId}/hadiths/{hadithId}</span>
            <p>Get a specific hadith by collection and hadith ID</p>
            <p><strong>Query Parameters:</strong></p>
            <ul>
                <li><code>fileType</code> - regular | mushakkala_mufassala (default: regular)</li>
            </ul>
        </div>

        <h3>Search</h3>
        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/v1/search</span>
            <p>Search hadiths by text query across all or specific collections</p>
            <p><strong>Query Parameters:</strong></p>
            <ul>
                <li><code>q</code> - Search query text (required)</li>
                <li><code>collection</code> - Specific collection to search in</li>
                <li><code>fileType</code> - regular | mushakkala_mufassala</li>
                <li><code>exact</code> - Use exact matching (default: false)</li>
                <li><code>limit</code> - Number of results per page (1-100, default: 20)</li>
                <li><code>offset</code> - Number of results to skip (default: 0)</li>
            </ul>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/v1/search/suggestions</span>
            <p>Get search suggestions for autocomplete</p>
            <p><strong>Query Parameters:</strong></p>
            <ul>
                <li><code>q</code> - Partial search query (required, min 2 chars)</li>
                <li><code>limit</code> - Number of suggestions (1-20, default: 10)</li>
            </ul>
        </div>

        <div class="endpoint">
            <span class="method post">POST</span>
            <span class="path">/api/v1/search/advanced</span>
            <p>Advanced search with multiple criteria</p>
            <p><strong>Request Body:</strong></p>
            <ul>
                <li><code>query</code> - Main search text (required)</li>
                <li><code>collections</code> - Array of collection IDs to search</li>
                <li><code>fileTypes</code> - Array of file types to include</li>
                <li><code>minLength</code> - Minimum hadith text length</li>
                <li><code>maxLength</code> - Maximum hadith text length</li>
                <li><code>hasFullDiacritics</code> - Filter by diacritic presence</li>
            </ul>
        </div>

        <h3>Statistics</h3>
        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/v1/stats</span>
            <p>Get comprehensive statistics about all Hadith data</p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/v1/stats/collections/{collectionId}</span>
            <p>Get detailed statistics for a specific collection</p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/v1/stats/distribution</span>
            <p>Get text length distribution analysis</p>
            <p><strong>Query Parameters:</strong></p>
            <ul>
                <li><code>collection</code> - Analyze specific collection only</li>
                <li><code>fileType</code> - Analyze specific file type only</li>
            </ul>
        </div>

        <h3>Health Checks</h3>
        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/health</span>
            <p>Basic health check</p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/health/detailed</span>
            <p>Detailed health check with data and system information</p>
        </div>

        <h2>📝 Example Usage</h2>
        
        <div class="example">
            <h4>Get all collections:</h4>
            <code>GET /api/v1/collections</code>
        </div>

        <div class="example">
            <h4>Get hadiths from Sahih Al-Bukhari:</h4>
            <code>GET /api/v1/collections/sahih_al_bukhari/hadiths?limit=10</code>
        </div>

        <div class="example">
            <h4>Search for hadiths about prayer:</h4>
            <code>GET /api/v1/search?q=الصلاة&limit=5</code>
        </div>

        <div class="example">
            <h4>Get a specific hadith with diacritics:</h4>
            <code>GET /api/v1/collections/sahih_al_bukhari/hadiths/1?fileType=mushakkala_mufassala</code>
        </div>

        <h2>📊 Response Format</h2>
        <p>All responses are in JSON format. Successful responses include the requested data, while error responses include an error flag, message, and status code.</p>

        <h2>🔄 Pagination</h2>
        <p>Endpoints that return multiple items support pagination with <code>limit</code> and <code>offset</code> parameters. The response includes pagination metadata:</p>
        <ul>
            <li><code>total</code> - Total number of items</li>
            <li><code>limit</code> - Items per page</li>
            <li><code>offset</code> - Items skipped</li>
            <li><code>hasMore</code> - Whether more items are available</li>
        </ul>

        <h2>⚡ Rate Limiting</h2>
        <p>The API implements rate limiting to ensure fair usage. Default limits are 100 requests per minute per IP address.</p>

        <h2>🔧 Support</h2>
        <p>For questions, issues, or contributions, please visit the project repository or contact the maintainers.</p>
    </div>
</body>
</html>